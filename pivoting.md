# SSH Tunneling / Pivoting

## proxychains

```
add line to bottom of /etc/proxychains.conf:

socks4  127.0.0.1 1337root

```

### Double Proxy chains

```
ssh -tt -v -L8888:127.0.0.1:8157 root@172.30.77.122 ssh -t -D 8157 -oKexAlgorithms=+diffie-hellman-group1-sha1 -c aes256-cbc root@203.0.113.43 -p25 -vvv
```

## sshuttle

```
sshuttle -vvr user@10.10.10.10 10.1.1.0/24
```

## Local port forwarding

```
ssh <gateway> -L <local port to listen>:<remote host>:<remote port>
```

## Remote port forwarding

```
ssh <gateway> -R <remote port to bind>:<local host>:<local port>
```

## Dynamic port forwarding

```
ssh -D <local proxy port> -p <remote port> <target>
```

## Plink local port forwarding

```
plink -l root -pw pass -R 3389:<localhost>:3389 <remote host>
```

## Meterpreter

```
run autoroute -s SUBNET
run autoroute -p (list active routes)

background

use portscan etc

```
